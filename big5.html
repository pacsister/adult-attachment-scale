<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IPIP-NEO-60 Big Five – Bilingual</title>
<style>
:root{
  --bg:#0b1020; --muted:rgba(255,255,255,.72); --muted2:rgba(255,255,255,.55);
  --border:rgba(255,255,255,.12);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial,
    "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
  background:
    radial-gradient(1200px 600px at 20% 0%, rgba(122,162,255,.25), transparent 55%),
    radial-gradient(900px 500px at 80% 10%, rgba(61,220,151,.18), transparent 55%),
    var(--bg);
  color:#fff;
}
.wrap{max-width:1200px;margin:0 auto;padding:26px 16px 60px}
.hero{
  border:1px solid var(--border);
  background: rgba(18,26,51,.75);
  border-radius:22px;
  padding:18px;
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
}
h1{margin:0;font-size:22px}
.sub{margin-top:8px;color:var(--muted2);line-height:1.6;font-size:13px}
.pill{
  display:inline-block;margin-top:10px;margin-right:6px;font-size:12px;color:rgba(255,255,255,.82);
  border:1px solid rgba(255,255,255,.14);padding:4px 10px;border-radius:999px;background:rgba(0,0,0,.10);
}
.note{margin-top:10px;color:var(--muted);font-size:13px;line-height:1.65}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
.progress{height:10px;background:rgba(255,255,255,.10);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.12);margin-top:10px}
.bar{height:100%;width:0%;background:linear-gradient(90deg, rgba(122,162,255,.95), rgba(61,220,151,.85));transition:width 180ms ease}

.kpis{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-top:12px}
@media (max-width: 980px){.kpis{grid-template-columns:1fr 1fr}}
.kpi{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);border-radius:16px;padding:10px}
.kpi .lab{color:var(--muted);font-size:12px}
.kpi .val{font-weight:900;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:18px;margin-top:6px}

.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
button{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
  font-weight:800;
}
button.primary{background:rgba(122,162,255,.16);border-color:rgba(122,162,255,.45)}
button.danger{background:rgba(248,113,113,.12);border-color:rgba(248,113,113,.55)}
button:hover{background:rgba(255,255,255,.09)}

.grid5{margin-top:14px;display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
@media (max-width: 980px){.grid5{grid-template-columns:1fr 1fr}}
@media (max-width: 720px){.grid5{grid-template-columns:1fr}}

.col{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);border-radius:18px;padding:14px}
.colhead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.code{font-weight:900;font-size:16px}
.badge{font-size:12px;color:rgba(255,255,255,.85);border:1px solid rgba(255,255,255,.14);padding:4px 10px;border-radius:999px;background:rgba(0,0,0,.10)}

.item{border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.10);border-radius:14px;padding:10px;margin-top:10px}
.stem{display:flex;gap:10px;align-items:flex-start}
.num{
  width:26px;height:26px;border-radius:10px;background:rgba(122,162,255,.12);border:1px solid rgba(122,162,255,.35);
  display:flex;align-items:center;justify-content:center;font-weight:800;font-size:12px;flex:0 0 auto;
}
.txt{line-height:1.45;color:rgba(255,255,255,.92);font-size:13px}
.choices{display:flex;flex-wrap:wrap;gap:6px;margin-top:10px}
.opt{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.02);cursor:pointer;user-select:none}
.opt input{accent-color:rgba(122,162,255,.9)}

.hidden{display:none}
.langToggle{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-top:10px}
.langBtn{padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); cursor:pointer; font-weight:900}
.langBtn.active{border-color: rgba(122,162,255,.55); background:rgba(122,162,255,.14)}

.small{font-size:12px;color:rgba(255,255,255,.72)}
hr.sep{border:0;border-top:1px solid rgba(255,255,255,.14);margin:14px 0}
</style>
</head>

<body>
<div class="wrap">
  <div class="hero">
    <h1 id="title">IPIP-NEO-60 Big Five (Public Domain) — 60 items</h1>
    <div class="sub" id="subtitle">Rate how accurately each statement describes you (1 → 5).</div>

    <div class="langToggle" aria-label="Language toggle">
      <span class="pill" id="langLabel">Language / 語言</span>
      <button class="langBtn" type="button" id="btnEN">English</button>
      <button class="langBtn" type="button" id="btnZH">繁體中文</button>
    </div>

    <div class="sub" id="scaleLine">
      <span class="pill">1</span><span class="pill">2</span><span class="pill">3</span><span class="pill">4</span><span class="pill">5</span>
      <span class="pill" id="scaleExplain">Very Inaccurate → Very Accurate</span>
    </div>

    <nav class="shared-nav" style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px;">
      <a href="index.html" style="text-decoration:none; color:#fff; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); padding:8px 10px; border-radius:999px; display:inline-flex; gap:8px; align-items:center;">
        <span style="font-weight:800;">Home</span><span style="opacity:.75;">主頁</span>
      </a>
      <a href="aas.html" style="text-decoration:none; color:#fff; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); padding:8px 10px; border-radius:999px; display:inline-flex; gap:8px; align-items:center;">
        <span style="font-weight:800;">AA Scale</span><span style="opacity:.75;">成人依附</span>
      </a>
      <a href="big5.html" style="text-decoration:none; color:#fff; border:1px solid rgba(255,255,255,.14); background:rgba(122,162,255,.12); padding:8px 10px; border-radius:999px; display:inline-flex; gap:8px; align-items:center;">
        <span style="font-weight:800;">Big Five</span><span style="opacity:.75;">五大人格</span>
      </a>
      <a href="holland.html" style="text-decoration:none; color:#fff; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); padding:8px 10px; border-radius:999px; display:inline-flex; gap:8px; align-items:center;">
        <span style="font-weight:800;">Holland</span><span style="opacity:.75;">職業興趣</span>
      </a>
    </nav>

    <div class="note" id="scoringNote">
      <b>Scoring:</b> Your trait scores will be shown as <b>mean scores (1–5)</b> after you press <b>Score</b>. Reverse-keyed items are handled automatically.
    </div>

    <div class="row">
      <span class="pill" id="answeredPill">Answered: <span id="countDone">0</span>/60</span>
      <span class="pill" id="privacyPill">This page does not upload answers (browser-only).</span>
      <span class="pill" id="pdPill">Public-domain items (IPIP).</span>
    </div>

    <div class="progress"><div id="bar" class="bar"></div></div>

    <div class="note" id="liveHideNote" style="margin-top:10px">
      <span class="enOnly"><b>During answering:</b> trait scores are hidden. They will appear after you press <b>Score</b>.</span>
      <span class="zhOnly"><b>作答期間：</b>五大向度分數會先隱藏，按下 <b>計分</b> 後才會顯示。</span>
    </div>

    <div class="kpis" aria-label="Trait mean scores">
      <div class="kpi"><div class="lab" id="labN">N</div><div class="val" id="outN">—</div></div>
      <div class="kpi"><div class="lab" id="labE">E</div><div class="val" id="outE">—</div></div>
      <div class="kpi"><div class="lab" id="labO">O</div><div class="val" id="outO">—</div></div>
      <div class="kpi"><div class="lab" id="labA">A</div><div class="val" id="outA">—</div></div>
      <div class="kpi"><div class="lab" id="labC">C</div><div class="val" id="outC">—</div></div>
    </div>

    <div class="actions">
      <button type="button" id="btnReview">Review unanswered</button>
      <button type="button" class="danger" id="btnReset">Reset</button>
      <button type="button" class="primary" id="btnScore">Score</button>
    </div>

    <div id="result" class="note hidden" style="margin-top:14px; border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.04); border-radius:18px; padding:14px;">
      <div style="font-weight:900; color: rgba(255,255,255,.9);" id="resultTitle">Results</div>
      <div class="small" id="resultNote">Means (1–5) are shown. Interpret cautiously; context & culture matter.</div>
      <hr class="sep"/>
      <div class="small" id="interpHint"></div>
    </div>

    <footer id="siteFooter" class="site-footer" style="margin-top:18px; padding-top:14px; border-top:1px solid rgba(255,255,255,.14); color: rgba(255,255,255,.72); font-size:12px; line-height:1.6;">
      <div style="display:flex; gap:12px; flex-wrap:wrap; justify-content:space-between; align-items:flex-start;">
        <div>
          <div style="font-weight:800; color: rgba(255,255,255,.86);">Dr May Poon 潘美蘭博士</div>
          <div>
          <div id="footerPrivacy">For classroom learning and reflection. This site does not collect answers. / 僅供課堂學習與反思，本網站不會收集作答內容。</div>
        </div>
        <div style="max-width:560px;">
          <div style="font-weight:800; color: rgba(255,255,255,.86);" id="attribTitle">Attribution</div>
          <div id="attribText">
            This instrument is based on public-domain items from the International Personality Item Pool (IPIP).<br/>
            Goldberg, L. R. (1992). The development of markers for the Big-Five factor structure.<br/>
            Items retrieved from https://ipip.ori.org
          </div>
        </div>
      </div>
      <div style="margin-top:10px; opacity:.8;">© 2026 May Poon. Teaching use only. / 教學用途。</div>
    </footer>
  </div>

  <div id="grid" class="grid5" aria-label="IPIP-NEO-60 items grid"></div>
</div>

<script>
/* -----------------------------
   IPIP-NEO-60 (public domain)
   Response scale: 1..5
   Reverse-keyed items (R) in this page: we reverse as (6 - response)
-------------------------------- */

// Reverse item numbers (1-based):
const REVERSE = new Set([2,4,9,10,11,12,14,16,26,28,30,31,32,33,34,35,38,40,44,54,56,58,60]);
// NOTE: Reverse-key depends on item list; keep this set aligned with the items below.

/* Domain mapping: 12 per domain in order N, E, O, A, C */
const TRAITS = [
  {key:'N', en:'Neuroticism', zh:'神經質', items:[]},
  {key:'E', en:'Extraversion', zh:'外向性', items:[]},
  {key:'O', en:'Openness', zh:'開放性', items:[]},
  {key:'A', en:'Agreeableness', zh:'宜人性', items:[]},
  {key:'C', en:'Conscientiousness', zh:'盡責性', items:[]},
];

for(let i=1;i<=60;i++){
  TRAITS[Math.floor((i-1)/12)].items.push(i);
}

/* Items (EN + Traditional Chinese) */
const ITEMS = [
  // N 1-12
  {en:"Get stressed out easily.", zh:"我很容易感到壓力。"},
  {en:"Am relaxed most of the time.", zh:"我大多時候都很放鬆。"},
  {en:"Worry about things.", zh:"我會為很多事情擔心。"},
  {en:"Seldom feel blue.", zh:"我很少感到情緒低落。"},
  {en:"Am easily disturbed.", zh:"我很容易被影響／受干擾。"},
  {en:"Get upset easily.", zh:"我很容易感到心煩意亂。"},
  {en:"Change my mood a lot.", zh:"我的情緒變化很大。"},
  {en:"Have frequent mood swings.", zh:"我經常情緒起伏。"},
  {en:"Get irritated easily.", zh:"我很容易煩躁。"},
  {en:"Often feel blue.", zh:"我經常感到情緒低落。"},
  {en:"Panic easily.", zh:"我很容易驚慌。"},
  {en:"Feel comfortable with myself.", zh:"我對自己感到自在。"},
  // E 13-24
  {en:"Am the life of the party.", zh:"在聚會中我常是帶動氣氛的人。"},
  {en:"Don't talk a lot.", zh:"我不太多話。"},
  {en:"Feel comfortable around people.", zh:"和別人在一起我很自在。"},
  {en:"Keep in the background.", zh:"我通常保持低調／在一旁。"},
  {en:"Start conversations.", zh:"我會主動開始對話。"},
  {en:"Have little to say.", zh:"我沒什麼好說的。"},
  {en:"Talk to a lot of different people at parties.", zh:"在派對上我會跟很多不同的人聊天。"},
  {en:"Don't like to draw attention to myself.", zh:"我不喜歡把注意力吸引到自己身上。"},
  {en:"Don't mind being the center of attention.", zh:"我不介意成為眾人焦點。"},
  {en:"Am quiet around strangers.", zh:"在陌生人面前我比較安靜。"},
  {en:"Make friends easily.", zh:"我很容易交朋友。"},
  {en:"Take charge.", zh:"我會主動負責／帶頭。"},
  // O 25-36
  {en:"Have a rich vocabulary.", zh:"我的詞彙量很豐富。"},
  {en:"Have difficulty understanding abstract ideas.", zh:"我難以理解抽象概念。"},
  {en:"Have a vivid imagination.", zh:"我有很生動的想像力。"},
  {en:"Am not interested in abstract ideas.", zh:"我對抽象概念不感興趣。"},
  {en:"Have excellent ideas.", zh:"我常有很好的點子。"},
  {en:"Do not have a good imagination.", zh:"我的想像力不太好。"},
  {en:"Am quick to understand things.", zh:"我理解事物很快。"},
  {en:"Use difficult words.", zh:"我會使用較艱深的詞彙。"},
  {en:"Spend time reflecting on things.", zh:"我會花時間反思事情。"},
  {en:"Am full of ideas.", zh:"我腦中充滿點子。"},
  {en:"Avoid philosophical discussions.", zh:"我會避免哲學性的討論。"},
  {en:"Enjoy thinking about theoretical issues.", zh:"我喜歡思考理論性的議題。"},
  // A 37-48
  {en:"Feel others' emotions.", zh:"我能感受到別人的情緒。"},
  {en:"Am not interested in other people's problems.", zh:"我對別人的問題不感興趣。"},
  {en:"Have a soft heart.", zh:"我心腸很軟。"},
  {en:"Am not really interested in others.", zh:"我其實不太關心別人。"},
  {en:"Take time out for others.", zh:"我願意騰出時間給別人。"},
  {en:"Feel little concern for others.", zh:"我很少為別人擔心。"},
  {en:"Make people feel at ease.", zh:"我會讓人感到放鬆自在。"},
  {en:"Insult people.", zh:"我會侮辱／冒犯別人。"},
  {en:"Sympathize with others' feelings.", zh:"我會同理別人的感受。"},
  {en:"Am not interested in other people's problems.", zh:"我對別人的困擾不感興趣。"},
  {en:"Have a forgiving nature.", zh:"我比較寬容，容易原諒。"},
  {en:"Am generally trusting.", zh:"我一般都很信任別人。"},
  // C 49-60
  {en:"Am always prepared.", zh:"我總是有準備。"},
  {en:"Leave my belongings around.", zh:"我會把東西亂放。"},
  {en:"Pay attention to details.", zh:"我會留意細節。"},
  {en:"Make a mess of things.", zh:"我常把事情弄得一團糟。"},
  {en:"Get chores done right away.", zh:"我會立刻把該做的事做完。"},
  {en:"Often forget to put things back in their proper place.", zh:"我常忘記把東西放回原位。"},
  {en:"Like order.", zh:"我喜歡井然有序。"},
  {en:"Shirk my duties.", zh:"我會逃避責任。"},
  {en:"Follow a schedule.", zh:"我會按計劃／日程行事。"},
  {en:"Am exacting in my work.", zh:"我做事要求很高。"},
  {en:"Am reliable.", zh:"我很可靠。"},
  {en:"Waste my time.", zh:"我會浪費時間。"},
];

const answers = new Map(); // item -> 1..5
let SHOW_SCORES = false;
let LANG = localStorage.getItem('big5_lang') || 'en';

function i18n(){
  const en = LANG === 'en';
  document.getElementById('title').textContent = en
    ? 'IPIP-NEO-60 Big Five (Public Domain) — 60 items'
    : 'IPIP-NEO-60 五大人格（公共領域）— 60 題';
  document.getElementById('subtitle').textContent = en
    ? 'Rate how accurately each statement describes you (1 → 5).'
    : '請按每句描述是否符合你（1 → 5）作答。';

  document.getElementById('scaleExplain').textContent = en
    ? 'Very Inaccurate → Very Accurate'
    : '非常不符合 → 非常符合';

  document.getElementById('scoringNote').innerHTML = en
    ? '<b>Scoring:</b> Your trait scores will be shown as <b>mean scores (1–5)</b> after you press <b>Score</b>. Reverse-keyed items are handled automatically.'
    : '<b>計分：</b>按下 <b>計分</b> 後，會顯示五大向度的<b>平均分（1–5）</b>，反向題已自動處理。';

  document.getElementById('answeredPill').innerHTML = en
    ? 'Answered: <span id="countDone">0</span>/60'
    : '已作答：<span id="countDone">0</span>/60';

  document.getElementById('privacyPill').textContent = en
    ? 'This page does not upload answers (browser-only).'
    : '本頁不會上載作答內容（只在瀏覽器內計分）。';

  // Hide/show helper texts via class
  document.querySelectorAll('.enOnly').forEach(el => el.style.display = en ? '' : 'none');
  document.querySelectorAll('.zhOnly').forEach(el => el.style.display = en ? 'none' : '');

  document.getElementById('btnReview').textContent = en ? 'Review unanswered' : '查看未答題目';
  document.getElementById('btnReset').textContent = en ? 'Reset' : '重設';
  document.getElementById('btnScore').textContent = en ? 'Score' : '計分';

  document.getElementById('resultTitle').textContent = en ? 'Results' : '結果';
  document.getElementById('resultNote').textContent = en
    ? 'Means (1–5) are shown. Interpret cautiously; context & culture matter.'
    : '顯示平均分（1–5）。請審慎解讀，留意情境與文化因素。';

  document.getElementById('interpHint').textContent = en
    ? 'Teaching-oriented tip: roughly 1.0–2.4 = lower; 2.5–3.5 = typical; 3.6–5.0 = higher (relative to your own responses).'
    : '教學取向提示：大致 1.0–2.4 = 較低；2.5–3.5 = 一般；3.6–5.0 = 較高（以個人作答作相對比較）。';

  document.getElementById('attribTitle').textContent = en ? 'Attribution' : '引用／致謝';

  document.getElementById('btnEN').classList.toggle('active', en);
  document.getElementById('btnZH').classList.toggle('active', !en);

  document.getElementById('labN').textContent = en ? 'N (Neuroticism)' : 'N（神經質）';
  document.getElementById('labE').textContent = en ? 'E (Extraversion)' : 'E（外向性）';
  document.getElementById('labO').textContent = en ? 'O (Openness)' : 'O（開放性）';
  document.getElementById('labA').textContent = en ? 'A (Agreeableness)' : 'A（宜人性）';
  document.getElementById('labC').textContent = en ? 'C (Conscientiousness)' : 'C（盡責性）';
}

function updateTop(){
  let done=0;
  for(let i=1;i<=60;i++) if(answers.has(i)) done++;
  const countEl = document.getElementById('countDone');
  if(countEl) countEl.textContent = String(done);
  document.getElementById('bar').style.width=(done/60*100).toFixed(1)+'%';

  if(!SHOW_SCORES){
    document.getElementById('outN').textContent='—';
    document.getElementById('outE').textContent='—';
    document.getElementById('outO').textContent='—';
    document.getElementById('outA').textContent='—';
    document.getElementById('outC').textContent='—';
  }
}

function setAnswer(itemNo, value){
  answers.set(itemNo, value);
  updateTop();
}

function scrollToFirstUnanswered(){
  for(let i=1;i<=60;i++){
    if(!answers.has(i)){
      const el=document.getElementById('item-'+i);
      if(el) el.scrollIntoView({behavior:'smooth', block:'center'});
      return;
    }
  }
  alert(LANG==='en' ? 'All answered ✅' : '已全部作答 ✅');
}

function resetAll(){
  if(!confirm(LANG==='en' ? 'Reset and clear all answers?' : '確定要重設所有作答嗎？')) return;
  answers.clear();
  document.querySelectorAll('input[type="radio"]').forEach(r=>r.checked=false);
  document.getElementById('result').classList.add('hidden');
  SHOW_SCORES = false;
  updateTop();
  window.scrollTo({top:0, behavior:'smooth'});
}

function reverseIfNeeded(itemNo, v){
  return REVERSE.has(itemNo) ? (6 - v) : v;
}

function mean(nums){
  return nums.reduce((a,b)=>a+b,0)/nums.length;
}

function computeTraitMeans(){
  // require all answered
  for(let i=1;i<=60;i++) if(!answers.has(i)) return null;

  const means = {};
  for(const t of TRAITS){
    const vals = t.items.map(i => reverseIfNeeded(i, answers.get(i)));
    means[t.key] = mean(vals);
  }
  return means;
}

function renderScores(){
  const means = computeTraitMeans();
  if(!means){
    alert(LANG==='en' ? 'Please answer all items before scoring.' : '請先完成所有題目才可計分。');
    scrollToFirstUnanswered();
    return;
  }

  SHOW_SCORES = true;
  document.getElementById('outN').textContent = means.N.toFixed(2);
  document.getElementById('outE').textContent = means.E.toFixed(2);
  document.getElementById('outO').textContent = means.O.toFixed(2);
  document.getElementById('outA').textContent = means.A.toFixed(2);
  document.getElementById('outC').textContent = means.C.toFixed(2);

  document.getElementById('result').classList.remove('hidden');
  document.getElementById('result').scrollIntoView({behavior:'smooth', block:'start'});
}

function buildGrid(){
  const grid=document.getElementById('grid');
  grid.innerHTML='';

  // Build 5 columns: N, E, O, A, C (12 each)
  for(let colIndex=0; colIndex<5; colIndex++){
    const t = TRAITS[colIndex];

    const col=document.createElement('section');
    col.className='col';

    const head=document.createElement('div');
    head.className='colhead';
    head.innerHTML=`<div class="code">${t.key}</div><div class="badge">12 items</div>`;
    col.appendChild(head);

    for(const itemNo of t.items){
      const item=document.createElement('div');
      item.className='item';
      item.id='item-'+itemNo;

      const stem=document.createElement('div');
      stem.className='stem';
      const text = (LANG === 'en') ? ITEMS[itemNo-1].en : ITEMS[itemNo-1].zh;
      stem.innerHTML=`<div class="num">${itemNo}</div><div class="txt">${escapeHtml(text)}</div>`;
      item.appendChild(stem);

      const choices=document.createElement('div');
      choices.className='choices';

      for(let v=1; v<=5; v++){
        const name='q'+itemNo;
        const label=document.createElement('label');
        label.className='opt';
        label.innerHTML=`<input type="radio" name="${name}" value="${v}"><span>${v}</span>`;
        const input=label.querySelector('input');

        input.addEventListener('change', (e)=>setAnswer(itemNo, Number(e.target.value)));
        if(answers.has(itemNo) && answers.get(itemNo)===v) input.checked=true;

        choices.appendChild(label);
      }

      item.appendChild(choices);
      col.appendChild(item);
    }

    grid.appendChild(col);
  }

  updateTop();
}

function escapeHtml(s){
  return s.replace(/[&<>"']/g, (c) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
}

function setLang(newLang){
  LANG = newLang;
  localStorage.setItem('big5_lang', LANG);
  i18n();
  buildGrid();
}

document.getElementById('btnEN').addEventListener('click', ()=>setLang('en'));
document.getElementById('btnZH').addEventListener('click', ()=>setLang('zh'));
document.getElementById('btnReview').addEventListener('click', scrollToFirstUnanswered);
document.getElementById('btnReset').addEventListener('click', resetAll);
document.getElementById('btnScore').addEventListener('click', renderScores);

// init
i18n();
buildGrid();
</script>
</body>
</html>


